<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>插件开发教程 cursor</title>
    <meta name="description" content="插件开发需要注意以下几点：">
    <link rel="stylesheet" type="text/css" href="../css/main.css?v=1.34.1">
    <link rel="stylesheet" type="text/css" href="../css/tocbot.css?v=1.34.1">
    <link rel="stylesheet" type="text/css" href="../css/media.css?v=1.34.1">
    <link rel="stylesheet" type="text/css" href="../css/sidebar.css?v=1.34.1">
    <link rel="stylesheet" type="text/css" href="../css/copy.css?v=1.34.1">
    <link rel="stylesheet" type="text/css" href="../css/demo-preview.css?v=1.34.1">
    <link rel="icon" href="../cursor.webp" type="image/x-icon">
    <script src="../js/copy.js?v=1.34.1"></script>
    <script src="../js/dark-mode.js?v=1.34.1"></script>
    <script src="../js/markdown-style.js?v=1.34.1"></script>
  </head>
  <body id="idoctotop"><a href="#idoctotop" class="gototop">top</a>
    <header class="header">
      <article class="inner warpper"><a class="logo" href="../index.html"><img alt="cursor logo" src="../cursor.webp">
<span class="title">cursor</span></a>
        <div class="content">
          <ul class="menu">
            <li><a href="../index.html" target="" class="">Home</a></li>
            <li><a href="../about.html" target="" class="">About</a></li>
          </ul><a href="https://github.com/zhangrenyang/cursor" target="_blank" rel="noopener noreferrer" title="Github" name="Github" class="github"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
            </svg></a>
          <dark-mode permanent=""></dark-mode>
        </div>
      </article>
    </header>
    <div class="warpper-content warpper">
      <markdown-style theme-auto-switch-disabled="">
        <h1 id="插件开发教程"><a aria-hidden="true" tabindex="-1" href="#插件开发教程" class="anchor"><span class="icon icon-link"></span></a>插件开发教程</h1>
        <h2 id="开发准备"><a aria-hidden="true" tabindex="-1" href="#开发准备" class="anchor"><span class="icon icon-link"></span></a>开发准备</h2>
        <h3 id="1-环境搭建"><a aria-hidden="true" tabindex="-1" href="#1-环境搭建" class="anchor"><span class="icon icon-link"></span></a>1. 环境搭建</h3>
        <ul>
          <li>
            <p><strong>安装依赖</strong>：</p>
            <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># 安装 Node.js</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># 下载地址：https://nodejs.org/</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># 安装开发工具</span>
</span><span class="code-line line-number" line="5"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> yo generator-cursor-plugin
</span></code><input type="hidden" value="# 安装 Node.js
# 下载地址：https://nodejs.org/

# 安装开发工具
npm install -g yo generator-cursor-plugin
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>创建项目</strong>：</p>
            <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># 创建插件项目</span>
</span><span class="code-line line-number" line="2">yo cursor-plugin
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># 安装依赖</span>
</span><span class="code-line line-number" line="5"><span class="token function">npm</span> <span class="token function">install</span>
</span></code><input type="hidden" value="# 创建插件项目
yo cursor-plugin

# 安装依赖
npm install
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h3 id="2-项目结构"><a aria-hidden="true" tabindex="-1" href="#2-项目结构" class="anchor"><span class="icon icon-link"></span></a>2. 项目结构</h3>
        <pre><code class="code-highlight"><span class="code-line line-number" line="1">my-plugin/
</span><span class="code-line line-number" line="2">├── src/                 # 源代码目录
</span><span class="code-line line-number" line="3">│   ├── extension.ts     # 插件入口文件
</span><span class="code-line line-number" line="4">│   └── commands/        # 命令实现
</span><span class="code-line line-number" line="5">├── package.json         # 插件配置文件
</span><span class="code-line line-number" line="6">├── tsconfig.json        # TypeScript 配置
</span><span class="code-line line-number" line="7">├── .vscodeignore       # 发布忽略文件
</span><span class="code-line line-number" line="8">└── README.md           # 插件文档
</span></code><input type="hidden" value="my-plugin/
├── src/                 # 源代码目录
│   ├── extension.ts     # 插件入口文件
│   └── commands/        # 命令实现
├── package.json         # 插件配置文件
├── tsconfig.json        # TypeScript 配置
├── .vscodeignore       # 发布忽略文件
└── README.md           # 插件文档
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="基础开发"><a aria-hidden="true" tabindex="-1" href="#基础开发" class="anchor"><span class="icon icon-link"></span></a>基础开发</h2>
        <h3 id="1-插件配置"><a aria-hidden="true" tabindex="-1" href="#1-插件配置" class="anchor"><span class="icon icon-link"></span></a>1. 插件配置</h3>
        <ul>
          <li>
            <p><strong>package.json</strong>：</p>
            <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"my-plugin"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token property">"cursor"</span><span class="token operator">:</span> <span class="token string">"^1.0.0"</span>
</span><span class="code-line line-number" line="6">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">  <span class="token property">"activationEvents"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="8">    <span class="token string">"onCommand:myPlugin.hello"</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">  <span class="token property">"contributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">    <span class="token property">"commands"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">      <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"myPlugin.hello"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">      <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Hello World"</span>
</span><span class="code-line line-number" line="14">    <span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="15">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="{
  &#x22;name&#x22;: &#x22;my-plugin&#x22;,
  &#x22;version&#x22;: &#x22;1.0.0&#x22;,
  &#x22;engines&#x22;: {
    &#x22;cursor&#x22;: &#x22;^1.0.0&#x22;
  },
  &#x22;activationEvents&#x22;: [
    &#x22;onCommand:myPlugin.hello&#x22;
  ],
  &#x22;contributes&#x22;: {
    &#x22;commands&#x22;: [{
      &#x22;command&#x22;: &#x22;myPlugin.hello&#x22;,
      &#x22;title&#x22;: &#x22;Hello World&#x22;
    }]
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>入口文件</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// src/extension.ts</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">let</span> disposable <span class="token operator">=</span> commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">'myPlugin.hello'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">'Hello from My Plugin!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">  
</span><span class="code-line line-number" line="7">  context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span></code><input type="hidden" value="// src/extension.ts
export function activate(context: ExtensionContext) {
  let disposable = commands.registerCommand(&#x27;myPlugin.hello&#x27;, () => {
    window.showInformationMessage(&#x27;Hello from My Plugin!&#x27;);
  });
  
  context.subscriptions.push(disposable);
}

export function deactivate() {}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h3 id="2-命令实现"><a aria-hidden="true" tabindex="-1" href="#2-命令实现" class="anchor"><span class="icon icon-link"></span></a>2. 命令实现</h3>
        <ul>
          <li>
            <p><strong>注册命令</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// src/commands/helloCommand.ts</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">HelloCommand</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">register</span><span class="token punctuation">(</span>context<span class="token operator">:</span> ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">let</span> disposable <span class="token operator">=</span> commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">'myPlugin.hello'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">    
</span><span class="code-line line-number" line="8">    context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10">  
</span><span class="code-line line-number" line="11">  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">    window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="// src/commands/helloCommand.ts
export class HelloCommand {
  public static register(context: ExtensionContext) {
    let disposable = commands.registerCommand(&#x27;myPlugin.hello&#x27;, () => {
      this.execute();
    });
    
    context.subscriptions.push(disposable);
  }
  
  private static execute() {
    window.showInformationMessage(&#x27;Hello World!&#x27;);
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>命令配置</strong>：</p>
            <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">"contributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token property">"commands"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">      <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"myPlugin.hello"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">      <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Hello World"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">      <span class="token property">"category"</span><span class="token operator">:</span> <span class="token string">"My Plugin"</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">    <span class="token property">"keybindings"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">      <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"myPlugin.hello"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">      <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"ctrl+shift+h"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="11">      <span class="token property">"mac"</span><span class="token operator">:</span> <span class="token string">"cmd+shift+h"</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="{
  &#x22;contributes&#x22;: {
    &#x22;commands&#x22;: [{
      &#x22;command&#x22;: &#x22;myPlugin.hello&#x22;,
      &#x22;title&#x22;: &#x22;Hello World&#x22;,
      &#x22;category&#x22;: &#x22;My Plugin&#x22;
    }],
    &#x22;keybindings&#x22;: [{
      &#x22;command&#x22;: &#x22;myPlugin.hello&#x22;,
      &#x22;key&#x22;: &#x22;ctrl+shift+h&#x22;,
      &#x22;mac&#x22;: &#x22;cmd+shift+h&#x22;
    }]
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h2 id="功能开发"><a aria-hidden="true" tabindex="-1" href="#功能开发" class="anchor"><span class="icon icon-link"></span></a>功能开发</h2>
        <h3 id="1-界面交互"><a aria-hidden="true" tabindex="-1" href="#1-界面交互" class="anchor"><span class="icon icon-link"></span></a>1. 界面交互</h3>
        <ul>
          <li>
            <p><strong>信息提示</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 显示信息</span>
</span><span class="code-line line-number" line="2">window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">'操作成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">// 显示选项</span>
</span><span class="code-line line-number" line="5">window<span class="token punctuation">.</span><span class="token function">showQuickPick</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'选项1'</span><span class="token punctuation">,</span> <span class="token string">'选项2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">  placeHolder<span class="token operator">:</span> <span class="token string">'请选择'</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment">// 输入框</span>
</span><span class="code-line line-number" line="10">window<span class="token punctuation">.</span><span class="token function">showInputBox</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">  prompt<span class="token operator">:</span> <span class="token string">'请输入名称'</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">  value<span class="token operator">:</span> <span class="token string">'默认值'</span>
</span><span class="code-line line-number" line="13"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// 显示信息
window.showInformationMessage(&#x27;操作成功&#x27;);

// 显示选项
window.showQuickPick([&#x27;选项1&#x27;, &#x27;选项2&#x27;], {
  placeHolder: &#x27;请选择&#x27;
});

// 输入框
window.showInputBox({
  prompt: &#x27;请输入名称&#x27;,
  value: &#x27;默认值&#x27;
});
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>状态栏</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 创建状态栏项</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> statusBarItem <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">createStatusBarItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">statusBarItem<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"$(sync) 工作中..."</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">statusBarItem<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment">// 更新状态</span>
</span><span class="code-line line-number" line="7">statusBarItem<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"$(check) 完成"</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// 创建状态栏项
const statusBarItem = window.createStatusBarItem();
statusBarItem.text = &#x22;$(sync) 工作中...&#x22;;
statusBarItem.show();

// 更新状态
statusBarItem.text = &#x22;$(check) 完成&#x22;;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h3 id="2-文件操作"><a aria-hidden="true" tabindex="-1" href="#2-文件操作" class="anchor"><span class="icon icon-link"></span></a>2. 文件操作</h3>
        <ul>
          <li>
            <p><strong>读写文件</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 读取文件</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token keyword">await</span> workspace<span class="token punctuation">.</span>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">// 写入文件</span>
</span><span class="code-line line-number" line="5"><span class="token keyword">await</span> workspace<span class="token punctuation">.</span>fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="6">  uri<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">  Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// 读取文件
const content = await workspace.fs.readFile(uri);

// 写入文件
await workspace.fs.writeFile(
  uri,
  Buffer.from(&#x27;content&#x27;, &#x27;utf8&#x27;)
);
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>文件监听</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 监听文件变化</span>
</span><span class="code-line line-number" line="2">workspace<span class="token punctuation">.</span><span class="token function">onDidSaveTextDocument</span><span class="token punctuation">(</span>document <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">文件已保存: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>document<span class="token punctuation">.</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// 监听文件变化
workspace.onDidSaveTextDocument(document => {
  console.log(&#x60;文件已保存: ${document.fileName}&#x60;);
});
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h2 id="高级功能"><a aria-hidden="true" tabindex="-1" href="#高级功能" class="anchor"><span class="icon icon-link"></span></a>高级功能</h2>
        <h3 id="1-语言支持"><a aria-hidden="true" tabindex="-1" href="#1-语言支持" class="anchor"><span class="icon icon-link"></span></a>1. 语言支持</h3>
        <ul>
          <li>
            <p><strong>语法高亮</strong>：</p>
            <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">"contributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token property">"languages"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"mylang"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">      <span class="token property">"extensions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".ml"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">      <span class="token property">"configuration"</span><span class="token operator">:</span> <span class="token string">"./language-configuration.json"</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">    <span class="token property">"grammars"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">      <span class="token property">"language"</span><span class="token operator">:</span> <span class="token string">"mylang"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">      <span class="token property">"scopeName"</span><span class="token operator">:</span> <span class="token string">"source.mylang"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="11">      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"./syntaxes/mylang.tmLanguage.json"</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="{
  &#x22;contributes&#x22;: {
    &#x22;languages&#x22;: [{
      &#x22;id&#x22;: &#x22;mylang&#x22;,
      &#x22;extensions&#x22;: [&#x22;.ml&#x22;],
      &#x22;configuration&#x22;: &#x22;./language-configuration.json&#x22;
    }],
    &#x22;grammars&#x22;: [{
      &#x22;language&#x22;: &#x22;mylang&#x22;,
      &#x22;scopeName&#x22;: &#x22;source.mylang&#x22;,
      &#x22;path&#x22;: &#x22;./syntaxes/mylang.tmLanguage.json&#x22;
    }]
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>代码补全</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 注册补全提供者</span>
</span><span class="code-line line-number" line="2">languages<span class="token punctuation">.</span><span class="token function">registerCompletionItemProvider</span><span class="token punctuation">(</span><span class="token string">'javascript'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token function">provideCompletionItems</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">return</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="5">      <span class="token keyword">new</span> <span class="token class-name">CompletionItem</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">,</span> CompletionItemKind<span class="token punctuation">.</span>Keyword<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">      <span class="token keyword">new</span> <span class="token class-name">CompletionItem</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span> CompletionItemKind<span class="token punctuation">.</span>Keyword<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// 注册补全提供者
languages.registerCompletionItemProvider(&#x27;javascript&#x27;, {
  provideCompletionItems(document, position) {
    return [
      new CompletionItem(&#x27;function&#x27;, CompletionItemKind.Keyword),
      new CompletionItem(&#x27;class&#x27;, CompletionItemKind.Keyword)
    ];
  }
});
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h3 id="2-调试支持"><a aria-hidden="true" tabindex="-1" href="#2-调试支持" class="anchor"><span class="icon icon-link"></span></a>2. 调试支持</h3>
        <ul>
          <li>
            <p><strong>调试配置</strong>：</p>
            <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">"contributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token property">"debuggers"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"mylang"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">      <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"My Debugger"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">      <span class="token property">"program"</span><span class="token operator">:</span> <span class="token string">"./out/debugger.js"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">      <span class="token property">"runtime"</span><span class="token operator">:</span> <span class="token string">"node"</span>
</span><span class="code-line line-number" line="8">    <span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="{
  &#x22;contributes&#x22;: {
    &#x22;debuggers&#x22;: [{
      &#x22;type&#x22;: &#x22;mylang&#x22;,
      &#x22;label&#x22;: &#x22;My Debugger&#x22;,
      &#x22;program&#x22;: &#x22;./out/debugger.js&#x22;,
      &#x22;runtime&#x22;: &#x22;node&#x22;
    }]
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>调试适配器</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">class</span> <span class="token class-name">MyDebugAdapter</span> <span class="token keyword">implements</span> <span class="token class-name">DebugAdapter</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token function">initialize</span><span class="token punctuation">(</span>args<span class="token operator">:</span> DebugProtocol<span class="token punctuation">.</span>InitializeRequestArguments<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">      supportsConfigurationDoneRequest<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">      supportsEvaluateForHovers<span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line line-number" line="6">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">  
</span><span class="code-line line-number" line="9">  <span class="token function">launch</span><span class="token punctuation">(</span>args<span class="token operator">:</span> DebugProtocol<span class="token punctuation">.</span>LaunchRequestArguments<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    <span class="token comment">// 实现启动逻辑</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="class MyDebugAdapter implements DebugAdapter {
  initialize(args: DebugProtocol.InitializeRequestArguments) {
    return {
      supportsConfigurationDoneRequest: true,
      supportsEvaluateForHovers: true
    };
  }
  
  launch(args: DebugProtocol.LaunchRequestArguments) {
    // 实现启动逻辑
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h2 id="测试和发布"><a aria-hidden="true" tabindex="-1" href="#测试和发布" class="anchor"><span class="icon icon-link"></span></a>测试和发布</h2>
        <h3 id="1-单元测试"><a aria-hidden="true" tabindex="-1" href="#1-单元测试" class="anchor"><span class="icon icon-link"></span></a>1. 单元测试</h3>
        <ul>
          <li>
            <p><strong>测试配置</strong>：</p>
            <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"node ./out/test/runTest.js"</span>
</span><span class="code-line line-number" line="4">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="{
  &#x22;scripts&#x22;: {
    &#x22;test&#x22;: &#x22;node ./out/test/runTest.js&#x22;
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>测试用例</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// src/test/suite/extension.test.ts</span>
</span><span class="code-line line-number" line="2"><span class="token function">suite</span><span class="token punctuation">(</span><span class="token string">'Extension Test Suite'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Sample test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    assert<span class="token punctuation">.</span><span class="token function">strictEqual</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// src/test/suite/extension.test.ts
suite(&#x27;Extension Test Suite&#x27;, () => {
  test(&#x27;Sample test&#x27;, () => {
    assert.strictEqual(-1, [1, 2, 3].indexOf(5));
  });
});
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h3 id="2-打包发布"><a aria-hidden="true" tabindex="-1" href="#2-打包发布" class="anchor"><span class="icon icon-link"></span></a>2. 打包发布</h3>
        <ul>
          <li>
            <p><strong>打包配置</strong>：</p>
            <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token property">"vscode:prepublish"</span><span class="token operator">:</span> <span class="token string">"npm run compile"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">    <span class="token property">"package"</span><span class="token operator">:</span> <span class="token string">"cursor package"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">    <span class="token property">"publish"</span><span class="token operator">:</span> <span class="token string">"cursor publish"</span>
</span><span class="code-line line-number" line="6">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="{
  &#x22;scripts&#x22;: {
    &#x22;vscode:prepublish&#x22;: &#x22;npm run compile&#x22;,
    &#x22;package&#x22;: &#x22;cursor package&#x22;,
    &#x22;publish&#x22;: &#x22;cursor publish&#x22;
  }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>发布检查</strong>：</p>
            <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># 运行测试</span>
</span><span class="code-line line-number" line="2"><span class="token function">npm</span> <span class="token builtin class-name">test</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># 打包插件</span>
</span><span class="code-line line-number" line="5"><span class="token function">npm</span> run package
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># 发布插件</span>
</span><span class="code-line line-number" line="8"><span class="token function">npm</span> run publish
</span></code><input type="hidden" value="# 运行测试
npm test

# 打包插件
npm run package

# 发布插件
npm run publish
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h2 id="最佳实践"><a aria-hidden="true" tabindex="-1" href="#最佳实践" class="anchor"><span class="icon icon-link"></span></a>最佳实践</h2>
        <h3 id="1-性能优化"><a aria-hidden="true" tabindex="-1" href="#1-性能优化" class="anchor"><span class="icon icon-link"></span></a>1. 性能优化</h3>
        <ul>
          <li>
            <p><strong>延迟加载</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 按需激活</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> disposable <span class="token operator">=</span> workspace<span class="token punctuation">.</span><span class="token function">onDidOpenTextDocument</span><span class="token punctuation">(</span>doc <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">if</span> <span class="token punctuation">(</span>doc<span class="token punctuation">.</span>languageId <span class="token operator">===</span> <span class="token string">'javascript'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token comment">// 激活相关功能</span>
</span><span class="code-line line-number" line="5">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// 按需激活
const disposable = workspace.onDidOpenTextDocument(doc => {
  if (doc.languageId === &#x27;javascript&#x27;) {
    // 激活相关功能
  }
});
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>资源管理</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 注册清理</span>
</span><span class="code-line line-number" line="2">context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="3">  disposable<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  statusBarItem<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  diagnosticCollection
</span><span class="code-line line-number" line="6"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><input type="hidden" value="// 注册清理
context.subscriptions.push(
  disposable,
  statusBarItem,
  diagnosticCollection
);
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h3 id="2-错误处理"><a aria-hidden="true" tabindex="-1" href="#2-错误处理" class="anchor"><span class="icon icon-link"></span></a>2. 错误处理</h3>
        <ul>
          <li>
            <p><strong>异常捕获</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">await</span> <span class="token function">someOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  window<span class="token punctuation">.</span><span class="token function">showErrorMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">操作失败: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="try {
  await someOperation();
} catch (error) {
  window.showErrorMessage(&#x60;操作失败: ${error.message}&#x60;);
  console.error(error);
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
          <li>
            <p><strong>优雅降级</strong>：</p>
            <pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>workspace<span class="token punctuation">.</span>workspaceFolders<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  window<span class="token punctuation">.</span><span class="token function">showWarningMessage</span><span class="token punctuation">(</span><span class="token string">'需要打开工作区'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">return</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="if (!workspace.workspaceFolders) {
  window.showWarningMessage(&#x27;需要打开工作区&#x27;);
  return;
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ul>
        <h2 id="小结"><a aria-hidden="true" tabindex="-1" href="#小结" class="anchor"><span class="icon icon-link"></span></a>小结</h2>
        <p>插件开发需要注意以下几点：</p>
        <ol>
          <li>遵循开发规范</li>
          <li>注重用户体验</li>
          <li>做好错误处理</li>
          <li>优化性能表现</li>
        </ol>
        <p>记住，好的插件应该是稳定、高效且易用的。在开发过程中要多测试，收集用户反馈，持续改进。</p>
        <section class="article-footer"><a href="https://github.com/zhangrenyang/cursor/blob/master/src\6.扩展开发\6.2.插件开发教程.md" class="edit-button" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
<span>Edit this page on GitHub</span>
</a><span class="atime">2025/02/01</span></section>
      </markdown-style>
      <nav class="tocs">
        <aside class="inner toc">
          <ol class="tocs-list">
            <li><a href="#开发准备" class="tocs-link">开发准备</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#1-环境搭建" class="tocs-link">1. 环境搭建</a></li>
                <li><a href="#2-项目结构" class="tocs-link">2. 项目结构</a></li>
              </ol>
            </li>
            <li><a href="#基础开发" class="tocs-link">基础开发</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#1-插件配置" class="tocs-link">1. 插件配置</a></li>
                <li><a href="#2-命令实现" class="tocs-link">2. 命令实现</a></li>
              </ol>
            </li>
            <li><a href="#功能开发" class="tocs-link">功能开发</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#1-界面交互" class="tocs-link">1. 界面交互</a></li>
                <li><a href="#2-文件操作" class="tocs-link">2. 文件操作</a></li>
              </ol>
            </li>
            <li><a href="#高级功能" class="tocs-link">高级功能</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#1-语言支持" class="tocs-link">1. 语言支持</a></li>
                <li><a href="#2-调试支持" class="tocs-link">2. 调试支持</a></li>
              </ol>
            </li>
            <li><a href="#测试和发布" class="tocs-link">测试和发布</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#1-单元测试" class="tocs-link">1. 单元测试</a></li>
                <li><a href="#2-打包发布" class="tocs-link">2. 打包发布</a></li>
              </ol>
            </li>
            <li><a href="#最佳实践" class="tocs-link">最佳实践</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#1-性能优化" class="tocs-link">1. 性能优化</a></li>
                <li><a href="#2-错误处理" class="tocs-link">2. 错误处理</a></li>
              </ol>
            </li>
            <li><a href="#小结" class="tocs-link">小结</a></li>
          </ol>
        </aside>
      </nav>
    </div>
    <script src="../js/demo-preview.js?v=1.34.1"></script>
    <div class="footer warpper">Released under the MIT License. Copyright © 2022 Kenny Wong<br>Generated by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a></div>
    <script src="../js/tocbot.js?v=1.34.1"></script>
  </body>
</html>
